<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
 
  <!-- InstantSearch CDN -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch/templates/basic_search.css" />
  <script
    src="https://cdn.jsdelivr.net/npm/@meilisearch/instant-meilisearch@0.3.2/dist/instant-meilisearch.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
  <!-- Bootstrap CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"
    integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js"
    integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/"
    crossorigin="anonymous"></script>

    <!-- Bootstrap&Local Card -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'><link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="C:\Users\Jenny\podcast_recommendation\frontend\mainpage\templates\testcardcss3.css" />

    <!-- turn description card -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans&display=swap" rel="stylesheet"><link rel="stylesheet" href="C:\Users\Jenny\podcast_recommendation\frontend\mainpage\templates\style2.css"> -->
</head>

<body>
  <div class="row">
    <div class="col-7" style="display: table; height: 1000px">
      <div style="vertical-align: middle; display: table-cell;" id="searchbox"></div>
    </div>
    <div class="col-5">
      <div id="hits"></div>
    </div>
  </div>
</body>
<style>
  body {
    font-family: sans-serif;
    padding: 1em;
  }

  .ais-SearchBox {
    margin: 1em 0;

  }
</style>
<script>
  const search = instantsearch({
    // MeiliSearch Index name
    indexName: "podcast",
    // MeiliSearch Server url
    searchClient: instantMeiliSearch(
      "http://localhost:7700"
    )
  });

  search.addWidgets([
    instantsearch.widgets.searchBox({
      // html id of your searchbox
      container: "#searchbox",
      // what will appear when nothing is typed
      placeholder: "Search your podcast ...",
      // input auto focus (default false)
      autofocus: true,
      // searchAsYouType (default true)
      // showSubmit(button) (default true)
      // showLoadingIndicator (default false)
    }),
    instantsearch.widgets.configure({
      hitsPerPage: 5
    }),
    instantsearch.widgets.infiniteHits({
      container: "#hits",
      templates: {
        empty: 'No results for <q>{{ query }}</q>',
        showMoreText: `
          <div>
              <h4>show more results</h4>
          </div>`,
        item: `

          <div id="cards_landscape_wrap-2">

          <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                    <a href="">
                       
                        
                        
                        
                        <div class="card-flyer">
                            <div class="text-box">
                                <div class="image-box">
                                  <img src="{{poster}}" style="height:200px; width:200px;" />
                                </div>
                                <div class="text-container">
                                    <h6>{{#helpers.highlight}}{ "attribute": "episode_name" }{{/helpers.highlight}}</h6>
                                    <h7>{{#helpers.highlight}}{ "attribute": "publisher" }{{/helpers.highlight}}</h7>
                                    
                                    
                                </div>
                                

                            </div>
                            <div class="text-box-back">        
                              <p class="text-gray-700 text-base" style="overflow-x:hidden; height:75px;">
                               {{#helpers.highlight}}{ "attribute": "episode_description" }{{/helpers.highlight}}
                              </p>

                            </div>
                            
                        </div>
                       



                        

                    </a>
                </div>    
            </div>
          </div>


          </div>`



         
        
      }
    })
  ]);
  search.start();
</script>

</html>